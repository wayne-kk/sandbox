# V0 Sandbox 测试流程

## 🚀 快速测试步骤

### 1. 启动主应用
```bash
cd v0-sandbox
npm run dev
```
应用将运行在: http://localhost:3000

### 2. 测试完整流程

#### 步骤 1: 访问首页
- 打开浏览器访问 http://localhost:3000
- 点击"开始编码"按钮进入编辑器

#### 步骤 2: 初始化项目
- 在编辑器页面下方终端中点击"初始化项目"按钮
- 等待项目文件创建完成
- 观察终端输出确认项目初始化成功

#### 步骤 3: 编辑代码
- 在左侧文件浏览器中点击不同文件 (如 app/page.tsx)
- 在中央编辑器中修改代码
- 代码会自动保存到后端

#### 步骤 4: 运行项目
- 在终端中点击"运行项目"按钮
- 系统将自动检测是否有 Docker，如无则使用本地模式
- 等待项目安装依赖并启动

#### 步骤 5: 查看结果
- 点击"检查状态"按钮验证项目运行状态
- 访问 http://localhost:3001 查看运行的沙箱项目
- 确认你在编辑器中的修改反映在运行的项目中

## 🔧 功能验证

### API 端点测试
1. **保存文件**: POST /api/sandbox/save
2. **初始化项目**: POST /api/sandbox/init  
3. **运行项目**: POST /api/sandbox/run

### 组件功能测试
- [x] Monaco 编辑器加载和语法高亮
- [x] 文件浏览器文件选择和展开/折叠
- [x] 终端命令执行和输出显示
- [x] 自动保存文件功能
- [x] 项目运行状态检查

## 🐛 常见问题排查

### Docker 相关
- 如果看到 Docker 错误，系统会自动切换到本地模式
- 本地模式不需要 Docker，直接使用系统的 Node.js

### 端口冲突
- 主应用运行在端口 3000
- 沙箱项目运行在端口 3001
- 确保这两个端口未被占用

### 文件保存问题
- 检查 sandbox/ 目录是否被创建
- 确认文件写入权限正常

## 🎯 成功标准

完整流程测试成功的标志：
1. ✅ 主应用正常启动 (localhost:3000)
2. ✅ 能够进入编辑器界面
3. ✅ 项目初始化成功，创建所有必要文件
4. ✅ 文件编辑和自动保存正常工作
5. ✅ 沙箱项目成功启动 (localhost:3001)
6. ✅ 能够访问运行中的沙箱项目并看到修改效果

## 📝 技术架构验证

- **前端**: Next.js 14 + React 18 + TypeScript ✅
- **编辑器**: Monaco Editor ✅  
- **文件管理**: 本地文件系统 ✅
- **项目运行**: 本地进程 (兼容 Docker) ✅
- **API**: Next.js API Routes ✅ 